"use strict";(self.webpackChunkmovie_search_app=self.webpackChunkmovie_search_app||[]).push([[234],{2234:(e,r,t)=>{t.r(r),t.d(r,{default:()=>W});var o=t(5043),a=t(5475),n=t(6446),i=t(7872),s=t(5865),l=t(5985),c=t(1787),d=t(7392),h=t(6360),x=t(155),g=t(579);const u=e=>{let{onSearch:r,initialValue:t=""}=e;const[a,n]=(0,o.useState)(t);return(0,g.jsx)("form",{onSubmit:e=>{e.preventDefault(),r(a)},style:{width:"100%",maxWidth:"600px",margin:"0 auto"},children:(0,g.jsx)(l.A,{fullWidth:!0,variant:"outlined",placeholder:"Search for movies...",value:a,onChange:e=>{const t=e.target.value;n(t),r(t)},InputProps:{startAdornment:(0,g.jsx)(c.A,{position:"start",children:(0,g.jsx)(h.A,{})}),endAdornment:a&&(0,g.jsx)(c.A,{position:"end",children:(0,g.jsx)(d.A,{onClick:()=>{n(""),r("")},edge:"end",children:(0,g.jsx)(x.A,{})})})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white","& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"},"&.Mui-focused fieldset":{borderColor:"primary.main"}},"& .MuiInputBase-input":{color:"white"},"& .MuiInputAdornment-root .MuiSvgIcon-root":{color:"rgba(255, 255, 255, 0.7)"}}})})};var m=t(8903),p=t(2110),b=t(6591),v=t(6494);const A=e=>{let{movie:r}=e;return(0,g.jsx)(a.N_,{to:`/movie/${r.imdbID}`,style:{textDecoration:"none"},children:(0,g.jsxs)(p.A,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"rgba(255, 255, 255, 0.05)",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"}},children:[(0,g.jsx)(b.A,{component:"img",height:"300",image:"N/A"!==r.Poster?r.Poster:"/movie-placeholder.svg",alt:r.Title,sx:{objectFit:"cover",backgroundColor:"rgba(0, 0, 0, 0.1)"}}),(0,g.jsxs)(v.A,{sx:{flexGrow:1,color:"white"},children:[(0,g.jsx)(s.A,{gutterBottom:!0,variant:"h6",component:"div",sx:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:r.Title}),(0,g.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)(s.A,{variant:"body2",color:"text.secondary",sx:{color:"rgba(255, 255, 255, 0.7)"},children:r.Year}),(0,g.jsx)(s.A,{variant:"body2",sx:{backgroundColor:"primary.main",color:"white",padding:"2px 8px",borderRadius:"4px",textTransform:"capitalize"},children:r.Type})]})]})]})})};var f=t(7121);const j=()=>(0,g.jsxs)(p.A,{sx:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[(0,g.jsx)(f.A,{variant:"rectangular",height:300,sx:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}),(0,g.jsxs)(v.A,{sx:{flexGrow:1},children:[(0,g.jsx)(f.A,{variant:"text",height:32,sx:{backgroundColor:"rgba(255, 255, 255, 0.1)",marginBottom:1}}),(0,g.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsx)(f.A,{variant:"text",width:60,sx:{backgroundColor:"rgba(255, 255, 255, 0.1)"}}),(0,g.jsx)(f.A,{variant:"text",width:80,sx:{backgroundColor:"rgba(255, 255, 255, 0.1)"}})]})]})]}),C=e=>{let{movies:r,loading:t=!1}=e;return t?(0,g.jsx)(m.Ay,{container:!0,spacing:3,children:[...Array(8)].map(((e,r)=>(0,g.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,g.jsx)(j,{})},r)))}):0===r.length?(0,g.jsx)(n.A,{sx:{textAlign:"center",py:4},children:(0,g.jsx)(s.A,{variant:"h6",color:"text.secondary",sx:{color:"rgba(255, 255, 255, 0.7)"},children:"No movies found"})}):(0,g.jsx)(m.Ay,{container:!0,spacing:3,children:r.map((e=>(0,g.jsx)(m.Ay,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,g.jsx)(A,{movie:e})},e.imdbID)))})};var w=t(1906),y=t(4448),k=t(6658);const S=e=>{let{currentPage:r,totalPages:t,onPageChange:o}=e;const a=Array.from({length:t},((e,r)=>r+1));return(0,g.jsxs)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:1,marginTop:4},children:[(0,g.jsx)(w.A,{variant:"outlined",startIcon:(0,g.jsx)(y.A,{}),onClick:()=>o(r-1),disabled:1===r,sx:{color:"white",borderColor:"rgba(255, 255, 255, 0.3)","&:hover":{borderColor:"white"}},children:"Previous"}),(()=>{if(t<=5)return a;const e=Math.floor(2.5);let o=Math.max(r-e,1),n=Math.min(o+5-1,t);return n-o+1<5&&(o=Math.max(n-5+1,1)),a.slice(o-1,n)})().map((e=>(0,g.jsx)(w.A,{variant:r===e?"contained":"outlined",onClick:()=>o(e),sx:{minWidth:"40px",color:r===e?"white":"rgba(255, 255, 255, 0.7)",borderColor:"rgba(255, 255, 255, 0.3)","&:hover":{borderColor:"white"}},children:e},e))),(0,g.jsx)(w.A,{variant:"outlined",endIcon:(0,g.jsx)(k.A,{}),onClick:()=>o(r+1),disabled:r===t,sx:{color:"white",borderColor:"rgba(255, 255, 255, 0.3)","&:hover":{borderColor:"white"}},children:"Next"})]})};var I=t(6982),M=t(3536),P=t(6291);const W=()=>{const[e,r]=(0,a.ok)(),{movies:t,loading:l,error:c,totalResults:d,currentPage:h,search:x,changePage:m}=(()=>{const[e,r]=(0,o.useState)([]),[t,a]=(0,o.useState)(!1),[n,i]=(0,o.useState)(null),[s,l]=(0,o.useState)(0),[c,d]=(0,o.useState)(1),[h,x]=(0,o.useState)(""),g=(0,o.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e.trim())return r([]),l(0),void i(null);a(!0),i(null);try{const o=await(0,P.q)(e,t);"True"===o.Response?(r(o.Search),l(parseInt(o.totalResults)),i(null)):(r([]),l(0),i(o.Error||"No movies found"))}catch(o){r([]),l(0),i("An error occurred while searching for movies")}finally{a(!1)}}),[]),u=(0,o.useCallback)((0,M.debounce)((e=>{d(1),g(e,1)}),500),[g]),m=(0,o.useCallback)((e=>{x(e),u(e)}),[u]),p=(0,o.useCallback)((e=>{d(e),g(h,e)}),[h,g]);return(0,o.useEffect)((()=>()=>{u.cancel()}),[u]),{movies:e,loading:t,error:n,totalResults:s,currentPage:c,search:m,changePage:p}})(),p=e.get("q")||"";parseInt(e.get("page")||"1");(0,o.useEffect)((()=>{p&&x(p)}),[p,x]);const b=Math.ceil(d/10);return(0,g.jsxs)(n.A,{sx:{minHeight:"100vh",backgroundColor:"#141414",color:"white",paddingBottom:4},children:[(0,g.jsx)(n.A,{sx:{background:"linear-gradient(to bottom, #000000, #141414)",padding:"40px 20px",textAlign:"center",marginBottom:4},children:(0,g.jsxs)(i.A,{maxWidth:"md",children:[(0,g.jsx)(s.A,{variant:"h3",component:"h1",sx:{marginBottom:3,fontWeight:"bold",background:"linear-gradient(45deg, #FF6B6B, #4ECDC4)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Movie Search"}),(0,g.jsx)(u,{onSearch:e=>{r({q:e,page:"1"})},initialValue:p})]})}),(0,g.jsxs)(i.A,{maxWidth:"lg",children:[(0,g.jsx)(I.A,{message:c||""}),(0,g.jsx)(C,{movies:t,loading:l}),b>0&&(0,g.jsx)(S,{currentPage:h,totalPages:b,onPageChange:e=>{r({q:p,page:e.toString()}),m(e)}})]})]})}},6291:(e,r,t)=>{t.d(r,{L:()=>c,q:()=>l});var o=t(6213);const a="139dc06f",n="https://www.omdbapi.com",i=new Map,s=new Map,l=async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const t=`${e}-${r}`;if(i.has(t))return i.get(t);try{const s=await o.A.get(n,{params:{apikey:a,s:e,page:r}});return"True"===s.data.Response&&i.set(t,s.data),s.data}catch(s){throw console.error("Error searching movies:",s),s}},c=async e=>{if(s.has(e))return s.get(e);try{const r=await o.A.get(n,{params:{apikey:a,i:e,plot:"full"}});return"True"===r.data.Response&&s.set(e,r.data),r.data}catch(r){throw console.error("Error fetching movie details:",r),r}}},6982:(e,r,t)=>{t.d(r,{A:()=>i});t(5043);var o=t(547),a=t(490),n=t(579);const i=e=>{let{message:r}=e;return r?(0,n.jsxs)(o.A,{severity:"error",sx:{margin:"20px 0",backgroundColor:"rgba(211, 47, 47, 0.1)",color:"#f44336","& .MuiAlert-icon":{color:"#f44336"}},children:[(0,n.jsx)(a.A,{children:"Error"}),r]}):null}}}]);
//# sourceMappingURL=234.28d1e305.chunk.js.map